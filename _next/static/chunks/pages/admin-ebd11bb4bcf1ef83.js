(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{577:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(486)}])},486:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return j}});var t=a(5893),l=a(7294),r=a(9008),d=a.n(r),n=a(9253),i=a(8687),c=a(4195),o=a(3023),m=a(5358),x=a(4888),h=a(6880),u=a(4831),g=a(7259);function j(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)([]),[j,b]=(0,l.useState)(!1),[p,N]=(0,l.useState)({username:"",password:""}),[f,y]=(0,l.useState)(!1),w=async(e,s)=>{let a=btoa("".concat(e,":").concat(s));try{let e=await fetch("http://localhost:8090/api/admin/stats",{headers:{Authorization:"Basic ".concat(a)}});if(e.ok)return b(!0),localStorage.setItem("admin_auth",a),!0}catch(e){console.error("Auth error:",e)}return!1},v=async()=>{let e=localStorage.getItem("admin_auth");if(e){y(!0);try{let[a,t]=await Promise.all([fetch("http://localhost:8090/api/admin/stats",{headers:{Authorization:"Basic ".concat(e)}}),fetch("http://localhost:8090/api/admin/daily-stats",{headers:{Authorization:"Basic ".concat(e)}})]);if(a.ok&&t.ok){let e=await a.json(),l=await t.json();s(e),r(l.daily_stats)}}catch(e){console.error("Fetch error:",e)}finally{y(!1)}}};(0,l.useEffect)(()=>{let e=localStorage.getItem("admin_auth");e&&(b(!0),v())},[]);let k=async e=>{e.preventDefault();let s=await w(p.username,p.password);s?v():alert("Credenciales incorrectas")};return j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d(),{children:(0,t.jsx)("title",{children:"Admin Panel - La Ventanita"})}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administraci\xf3n"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("admin_auth"),b(!1),s(null),r([])},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Cerrar Sesi\xf3n"})]})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:f?(0,t.jsx)("div",{className:"text-center",children:"Cargando..."}):(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 mb-8 text-white",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"La Ventanita 593 - Panel de Control"}),(0,t.jsx)("p",{className:"text-blue-100",children:"Monitoreo en tiempo real de tu metabuscador de afiliados"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["$",e.estimated_earnings]}),(0,t.jsx)("p",{className:"text-blue-100",children:"Ganancias Estimadas"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total B\xfasquedas"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e.total_searches}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Consultas realizadas"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Clicks a Tiendas"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.total_clicks}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Redirecciones exitosas"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-purple-500",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"CTR"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[e.ctr,"%"]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Tasa de conversi\xf3n"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Productos Mostrados"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:e.total_products}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Resultados generados"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"B\xfasquedas y Clicks (7 d\xedas)"}),(0,t.jsx)(n.h,{width:"100%",height:300,children:(0,t.jsxs)(i.w,{data:a,children:[(0,t.jsx)(c.q,{strokeDasharray:"3 3"}),(0,t.jsx)(o.K,{dataKey:"date"}),(0,t.jsx)(m.B,{}),(0,t.jsx)(x.u,{}),(0,t.jsx)(h.x,{type:"monotone",dataKey:"searches",stroke:"#3B82F6",name:"B\xfasquedas"}),(0,t.jsx)(h.x,{type:"monotone",dataKey:"clicks",stroke:"#10B981",name:"Clicks"})]})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Ganancias Estimadas (7 d\xedas)"}),(0,t.jsx)(n.h,{width:"100%",height:300,children:(0,t.jsxs)(u.v,{data:a,children:[(0,t.jsx)(c.q,{strokeDasharray:"3 3"}),(0,t.jsx)(o.K,{dataKey:"date"}),(0,t.jsx)(m.B,{}),(0,t.jsx)(x.u,{formatter:e=>["$".concat(e),"Ganancias"]}),(0,t.jsx)(g.$,{dataKey:"estimated_earnings",fill:"#10B981"})]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Informaci\xf3n del Sistema"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Red de Afiliados:"}),(0,t.jsx)("span",{className:"font-medium text-blue-600",children:"Skimlinks Network"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tiendas Conectadas:"}),(0,t.jsx)("span",{className:"font-medium",children:"8+ tiendas principales"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Promedio:"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:"5.0%"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Conversi\xf3n Estimada:"}),(0,t.jsx)("span",{className:"font-medium",children:"15%"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Tiendas Principales"}),(0,t.jsx)("div",{className:"space-y-2",children:["Best Buy","Target","Walmart","Nike","Adidas","Samsung"].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,t.jsx)("span",{className:"text-gray-700",children:e}),(0,t.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Activo"})]},e))})]})]}),(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsx)("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 font-medium",children:"\uD83D\uDD04 Actualizar Datos"})})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d(),{children:(0,t.jsx)("title",{children:"Admin Panel - La Ventanita 593"})}),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Panel de Administraci\xf3n"}),(0,t.jsxs)("form",{onSubmit:k,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Usuario"}),(0,t.jsx)("input",{type:"text",value:p.username,onChange:e=>N({...p,username:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,t.jsx)("input",{type:"password",value:p.password,onChange:e=>N({...p,password:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700",children:"Iniciar Sesi\xf3n"})]})]})})]})}}},function(e){e.O(0,[499,774,888,179],function(){return e(e.s=577)}),_N_E=e.O()}]);